<!DOCTYPE html><html><head>  <meta charset="utf-8">  <title>경인철도가 (1번 재생 화면)</title>  <base href="./">	<!-- Include font -->	<!-- Include Amplitude JS -->  <script type="text/javascript" src="./src/js/amplitude.js"></script>	<!-- Include Style Sheet -->	<!--  <link rel="stylesheet" type="text/css" href="./css/origin.css"/>-->  <link rel="stylesheet" type="text/css" href="./css/fonts.css"/>  <link rel="stylesheet" type="text/css" href="./css/style.css"/>  <link rel="stylesheet" type="text/css" href="./css/playOnly.css"/></head><body><div id="container">  <div id="header">    <button>      <img src="img/back-icon.svg">      <span onclick="goBack()">뒤로가기</span>    </button>	  <!--<img src="img/ifac-logo.svg">-->  </div>  <div id="top-container">    <div id="train-info">      <div id="train-name">용산역</div>      <div id="train-description">1955년 당시 사진</div>    </div>    <div id="train-line">      <div id="train-img">        <img src="img/train_single.svg">      </div>      <div id="station-wrapper">        <div class="station"><h1>용산역</h1></div>        <div class="station"><h1>노량진역</h1></div>        <div class="station"><h1>영등포역</h1></div>        <div class="station"><h1>오류동역</h1></div>        <div class="station"><h1>부천역</h1></div>        <div class="station"><h1>주안역</h1></div>        <div class="station"><h1>주안역</h1></div>        <div class="station"><h1>주안역</h1></div>        <div class="station"><h1>주안역</h1></div>        <div class="station"><h1>주안역</h1></div>      </div>    </div>    <div id="cover">      <img src="img/play-background-default.jpg" width="100%">    </div>  </div>  <div id="bottom">    <div id="controller">      <div id="play-button-container">        <button id="play-button" class="amplitude-play-pause">          <!--<span>재생하기</span>-->        </button>      </div>      <div id="player-progress-bar-container">        <progress id="song-played-progress" class="amplitude-song-played-progress"></progress>        <progress id="song-buffered-progress" class="amplitude-buffered-progress" value="0"></progress>      </div>      <div id="volume-container">        <img src="./img/volume.svg"/>        <input type="range" class="amplitude-volume-slider vertical-slider" step=".1" min="0" max="100" value="50"/>      </div>    </div>	  <!--테스트 버튼-->    <div class="test">      <div class="lyric-line" data-time="144">23</div>      <div class="lyric-line" data-time="154">24</div>    </div>	  <!--가사 및 싱크 영역-->    <div>      <span style="margin: 0 auto; text-align: center; width: 100%; display: block;" class="amplitude-current-time"></span>    </div>    <div id="lyrics-mask-container">	    <div id="lyrics-container">        <div class="lyric-line" data-order="1" data-time="0">한양을 작별하는 기적소리는</div>        <div class="lyric-line" data-order="2" data-time="10">연화봉을 진동하며 작별을 하고</div>        <div class="lyric-line" data-order="3" data-time="15">한 바퀴 두 바퀴는 차례로 굴러</div>        <div class="lyric-line" data-order="4" data-time="24">종남산의 취색은 등에 걸렸네.</div>        <div class="lyric-line" data-order="5" data-time="29">변화한 좌우 시가 다투어 비키고</div>        <div class="lyric-line" data-order="6" data-time="34">굉-굉한 바퀴 소리는 땅을 가르는데</div>        <div class="lyric-line" data-order="7" data-time="39">천지를 울리는 기적 일성은</div>        <div class="lyric-line" data-order="8" data-time="48">장려한 용산역을 부수는 구나</div>        <div class="lyric-line" data-order="9" data-time="58">경원선과 경부선을 서로 나누어</div>        <div class="lyric-line" data-order="10" data-time="62">한 마디 기적으로 고별을 하고</div>        <div class="lyric-line" data-order="11" data-time="67">웅장한 남한강의 철교를 지나</div>        <div class="lyric-line" data-order="12" data-time="77">철도 요람 노량진역에 다다랐도다</div>        <div class="lyric-line" data-order="13" data-time="82">살같이 나타나는 장엄한 기차</div>        <div class="lyric-line" data-order="14" data-time="86">어언듯 영등포 잠깐 거치어</div>        <div class="lyric-line" data-order="15" data-time="91">부산행 급행을 멀리 보내고</div>        <div class="lyric-line" data-order="16" data-time="101">오류동 정거장 지내였고나</div>        <div class="lyric-line" data-order="17" data-time="110">넓고 넓은 소사벌을 갈라나가면</div>        <div class="lyric-line" data-order="18" data-time="115">소사역과 부평역도 차례로 거쳐</div>        <div class="lyric-line" data-order="19" data-time="120">산 넘고 물 건너 급히 다다르니</div>        <div class="lyric-line" data-order="20" data-time="130">빠르다 주안역도 지내였고나</div>        <div class="lyric-line" data-order="21" data-time="135">먼산을 굽으려 가깝게하고</div>        <div class="lyric-line" data-order="22" data-time="139">가까운 산을 뻗치어 멀게 하면서</div>        <div class="lyric-line" data-order="23" data-time="144">살 같이 빨리 부는 나는 새 같이</div>        <div class="lyric-line" data-order="24" data-time="154">어느덧 제물포에 다다랐도다</div>      </div>    </div>  </div></div></body><!--  Include UX functions JS  NOTE: These are for handling things outside of the scope of AmplitudeJS--><!--<script type="text/javascript" src="/src/js/kyongin.js"></script>--><script type="text/javascript" src="./src/js/function.js"></script><!-- AmplitudeJS 초기화 --><script>  Amplitude.init({	  // "debug": true,	  "autoplay": true,	  "callbacks": {		  "timeupdate": function () {			  const currentTime = Amplitude.getSongPlayedSeconds();			  highlightLyric(currentTime);			  const stationIndex = getStationByTime(currentTime);			  if (stationIndex !== -1) {				  moveToStation(stationIndex);			  }			  updateTrainPosition(currentTime);		  },	  },	  "bindings": {		  32: 'play_pause'	  },	  "songs": [		  {			  "name": "조선철도창가",			  "artist": "",			  "url": "./song/josun.mp3",			  "cover_art_url": "./resources/album-art/we-are-to-answer.jpg",		  }	  ],  });  /*시간별 구간으로 기차 이미지 이동 구현*/  const timeIntervals = [	  {start: 0, end: 50, station: 0},	  {start: 51, end: 78, station: 1},	  {start: 79, end: 88, station: 2},	  {start: 89, end: 102, station: 3},	  {start: 103, end: 117, station: 4},	  {start: 118, end: 132, station: 5},	  {start: 133, end: 142, station: 6},	  {start: 143, end: 152, station: 7},	  {start: 153, end: 162, station: 8},	  {start: 163, end: 172, station: 9},	  {start: 173, end: 182, station: 10},  ];  function getStationByTime(currentTime) {	  for (let interval of timeIntervals) {		  if (currentTime >= interval.start && currentTime < interval.end) {			  return interval.station;		  }			console.log(interval.station)	  }	  return -1; // 해당하는 구간이 없을 경우  }  let currentStationIndex = 1;  const stations = document.querySelectorAll('.station');  let lastUpdateTime = 0; // 마지막으로 업데이트된 시간  let targetStationIndex = 0; // 목표로 하는 역의 인덱스  function updateActiveStation() {	  stations.forEach(station => {		  station.classList.remove('active', 'blink');	  });	  if (currentStationIndex > 0) {		  stations[currentStationIndex - 1].classList.remove('previous');	  }	  stations[currentStationIndex].classList.add('active', 'blink');	  setTimeout(() => {		  stations[currentStationIndex].classList.remove('blink');	  }, 500);  }  function moveToStation(index) {	  // 현재 역보다 목표 역이 더 큰 경우에만 목표 역을 업데이트	  if (index > currentStationIndex) {		  targetStationIndex = index;	  }  }  function updateTrainPosition(currentTime) {	  // console.log("현재 시간:", currentTime, "목표 역:", targetStationIndex, "현재 역:", currentStationIndex);	  if (targetStationIndex !== currentStationIndex) {		  const interval = timeIntervals.find(interval => interval.station === targetStationIndex);		  const duration = interval.end - interval.start;		  const progress = (currentTime - interval.start) / duration;		  currentStationIndex = Math.floor(progress * (targetStationIndex + 1));		  updateActiveStation();		  const trainImg = document.getElementById('train-img');		  const stationPosition = stations[currentStationIndex].getBoundingClientRect().left;		  trainImg.style.left = stationPosition - 55 + 'px';	  }	  lastUpdateTime = currentTime;  }</script></html>